events {}
http {
    include mime.types;
    sendfile on;

    server {
        listen 8080;
        listen [::]:8080;

        resolver 127.0.0.11;
        autoindex off;

        add_header Access-Control-Allow-Origin *;
        add_header Content-Security-Policy "default-src 'none'; script-src 'self'; object-src 'none'; style-src 'self'; form-action 'none'; frame-ancestors 'none'; base-uri 'none';" always;
        add_header Access-Control-Allow-Methods "OPTIONS, POST, GET";
        add_header Access-Control-Max-Age "3600";
        add_header Access-Control-Allow-Credentials "true";
        add_header Access-Control-Allow-Headers "Content-Type";
        server_name _;
        server_tokens off;

        root /oba-custom-content/static;
        gzip_static on;
    }
}
